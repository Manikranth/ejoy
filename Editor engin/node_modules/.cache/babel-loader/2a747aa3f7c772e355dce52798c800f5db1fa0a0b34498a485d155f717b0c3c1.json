{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import Sidebar from'./components/Sidebar';// Access the server data from the global EDITOR_DATA object\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const serverData=window.EDITOR_DATA||{};function App(){const[templateData,setTemplateData]=useState(serverData.templateData||{version:\"1.0\",background:{type:\"color\",color:\"#ffffff\"},elements:[]});const[selectedElement,setSelectedElement]=useState(null);const[isPreviewMode,setIsPreviewMode]=useState(false);// Function to add a new element to the template\nconst addElement=type=>{// Example implementation - this would be more complex in the real app\nconst newElement={id:Date.now().toString(),type,content:type==='text'?'New Text':'',position:{x:50,y:50},style:{fontFamily:'Arial',fontSize:16,color:'#000000'}};setTemplateData(prev=>({...prev,elements:[...prev.elements,newElement]}));setSelectedElement(newElement);};// Function to save the template data to the server\nconst saveTemplate=async()=>{try{const response=await fetch(serverData.apiEndpoints.save,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(templateData)});const data=await response.json();if(data.success){alert('Template saved successfully!');// Redirect if there's a back URL\nif(serverData.apiEndpoints.backUrl){window.location.href=serverData.apiEndpoints.backUrl;}}else{alert(`Error saving template: ${data.error}`);}}catch(error){console.error('Error saving template:',error);alert('An error occurred while saving the template');}};// Basic navigation handler\nconst handleNavigation=()=>{if(serverData.apiEndpoints.backUrl){if(confirm('Are you sure you want to leave? Unsaved changes will be lost.')){window.location.href=serverData.apiEndpoints.backUrl;}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:handleNavigation,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:serverData.templateName||'Template Editor'}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"preview-button\",onClick:()=>setIsPreviewMode(!isPreviewMode),children:isPreviewMode?'Edit':'Preview'}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:saveTemplate,children:\"Save\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editor-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"editor-canvas\",children:/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-canvas\",children:isPreviewMode?/*#__PURE__*/_jsxs(\"div\",{className:\"preview-mode\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Preview Mode\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This would show the rendered template\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"edit-mode\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Editor Canvas\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Elements: \",templateData.elements.length]})]})})}),/*#__PURE__*/_jsx(Sidebar,{addElement:addElement,isPreviewMode:isPreviewMode})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Sidebar","jsx","_jsx","jsxs","_jsxs","serverData","window","EDITOR_DATA","App","templateData","setTemplateData","version","background","type","color","elements","selectedElement","setSelectedElement","isPreviewMode","setIsPreviewMode","addElement","newElement","id","Date","now","toString","content","position","x","y","style","fontFamily","fontSize","prev","saveTemplate","response","fetch","apiEndpoints","save","method","headers","body","JSON","stringify","data","json","success","alert","backUrl","location","href","error","console","handleNavigation","confirm","className","children","onClick","templateName","length"],"sources":["/Users/manikranthbheemineni/PlayGround/Ejoy/Editor engin/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Sidebar from './components/Sidebar';\n\n// Access the server data from the global EDITOR_DATA object\nconst serverData = window.EDITOR_DATA || {};\n\nfunction App() {\n  const [templateData, setTemplateData] = useState(serverData.templateData || {\n    version: \"1.0\",\n    background: {\n      type: \"color\",\n      color: \"#ffffff\"\n    },\n    elements: []\n  });\n  \n  const [selectedElement, setSelectedElement] = useState(null);\n  const [isPreviewMode, setIsPreviewMode] = useState(false);\n\n  // Function to add a new element to the template\n  const addElement = (type) => {\n    // Example implementation - this would be more complex in the real app\n    const newElement = {\n      id: Date.now().toString(),\n      type,\n      content: type === 'text' ? 'New Text' : '',\n      position: { x: 50, y: 50 },\n      style: {\n        fontFamily: 'Arial',\n        fontSize: 16,\n        color: '#000000'\n      }\n    };\n\n    setTemplateData(prev => ({\n      ...prev,\n      elements: [...prev.elements, newElement]\n    }));\n    \n    setSelectedElement(newElement);\n  };\n\n  // Function to save the template data to the server\n  const saveTemplate = async () => {\n    try {\n      const response = await fetch(serverData.apiEndpoints.save, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(templateData),\n      });\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        alert('Template saved successfully!');\n        \n        // Redirect if there's a back URL\n        if (serverData.apiEndpoints.backUrl) {\n          window.location.href = serverData.apiEndpoints.backUrl;\n        }\n      } else {\n        alert(`Error saving template: ${data.error}`);\n      }\n    } catch (error) {\n      console.error('Error saving template:', error);\n      alert('An error occurred while saving the template');\n    }\n  };\n\n  // Basic navigation handler\n  const handleNavigation = () => {\n    if (serverData.apiEndpoints.backUrl) {\n      if (confirm('Are you sure you want to leave? Unsaved changes will be lost.')) {\n        window.location.href = serverData.apiEndpoints.backUrl;\n      }\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <button className=\"back-button\" onClick={handleNavigation}>\n          ‚Üê Back\n        </button>\n        <h1>{serverData.templateName || 'Template Editor'}</h1>\n        <div className=\"header-actions\">\n          <button \n            className=\"preview-button\"\n            onClick={() => setIsPreviewMode(!isPreviewMode)}\n          >\n            {isPreviewMode ? 'Edit' : 'Preview'}\n          </button>\n          <button className=\"save-button\" onClick={saveTemplate}>\n            Save\n          </button>\n        </div>\n      </header>\n\n      <div className=\"editor-container\">\n        <div className=\"editor-canvas\">\n          {/* This would be your canvas editing area */}\n          <div className=\"placeholder-canvas\">\n            {isPreviewMode ? (\n              <div className=\"preview-mode\">\n                <h2>Preview Mode</h2>\n                <p>This would show the rendered template</p>\n              </div>\n            ) : (\n              <div className=\"edit-mode\">\n                <h2>Editor Canvas</h2>\n                <p>Elements: {templateData.elements.length}</p>\n              </div>\n            )}\n          </div>\n        </div>\n        \n        <Sidebar addElement={addElement} isPreviewMode={isPreviewMode} />\n      </div>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}