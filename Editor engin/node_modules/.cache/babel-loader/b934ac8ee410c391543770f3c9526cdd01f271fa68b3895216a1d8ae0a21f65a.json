{"ast":null,"code":"var _jsxFileName = \"/Users/manikranthbheemineni/PlayGround/Editor engin/src/components/Element.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './Element.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Element({\n  element,\n  isSelected,\n  onSelect,\n  onUpdate,\n  onDelete,\n  isPreviewMode,\n  canvasBounds,\n  id\n}) {\n  _s();\n  const elementRef = useRef(null);\n\n  // Define default dimensions to ensure elements have a size\n  useEffect(() => {\n    // If the element doesn't have explicit width/height, set them\n    if (!element.style.width || !element.style.height) {\n      const el = elementRef.current;\n      if (el) {\n        const rect = el.getBoundingClientRect();\n        onUpdate(element.id, {\n          style: {\n            ...element.style,\n            width: `${Math.max(rect.width, 100)}px`,\n            height: `${Math.max(rect.height, 40)}px`\n          }\n        });\n      }\n    }\n  }, [element.id, element.style, onUpdate]);\n\n  // Handle element selection\n  const handleClick = e => {\n    if (isPreviewMode) return;\n    e.stopPropagation();\n    onSelect(element.id);\n  };\n\n  // Handle element deletion\n  const handleDelete = e => {\n    e.stopPropagation();\n    onDelete(element.id);\n  };\n\n  // Handle element duplication\n  const handleDuplicate = e => {\n    e.stopPropagation();\n    const newElement = {\n      ...element,\n      id: `element-${Date.now()}`,\n      position: {\n        x: element.position.x + 20,\n        y: element.position.y + 20\n      }\n    };\n    onUpdate(element.id, newElement, true);\n  };\n\n  // DRAG FUNCTIONALITY\n  const handleDragStart = e => {\n    if (isPreviewMode) return;\n    if (e.target.isContentEditable) return;\n    e.stopPropagation();\n\n    // Get initial mouse and element positions\n    const startMouseX = e.clientX;\n    const startMouseY = e.clientY;\n    const startElementX = element.position.x;\n    const startElementY = element.position.y;\n\n    // Get element dimensions for boundary checking\n    const elWidth = elementRef.current.offsetWidth;\n    const elHeight = elementRef.current.offsetHeight;\n    const handleDragMove = moveEvent => {\n      // Calculate new position\n      const dx = moveEvent.clientX - startMouseX;\n      const dy = moveEvent.clientY - startMouseY;\n\n      // Calculate potential new position\n      const newPosX = startElementX + dx;\n      const newPosY = startElementY + dy;\n\n      // Get current element dimensions\n      const elWidth = elementRef.current.offsetWidth;\n\n      // Apply horizontal boundary constraints only\n      let constrainedX = newPosX;\n      let constrainedY = newPosY; // No vertical constraint\n\n      // Apply horizontal constraints to keep elements inside canvas\n      if (canvasBounds) {\n        // Calculate offset from canvas left edge\n        const leftBoundary = 0; // Relative to canvas\n        const rightBoundary = canvasBounds.width - elWidth; // Use canvas width\n\n        // Apply constraints\n        constrainedX = Math.max(leftBoundary, Math.min(constrainedX, rightBoundary));\n      }\n      onUpdate(element.id, {\n        position: {\n          x: constrainedX,\n          y: constrainedY\n        }\n      });\n\n      // Ensure the canvas grows as needed\n      ensureCanvasSize(constrainedY + elementRef.current.offsetHeight);\n    };\n    const handleDragEnd = () => {\n      document.removeEventListener('mousemove', handleDragMove);\n      document.removeEventListener('mouseup', handleDragEnd);\n    };\n    document.addEventListener('mousemove', handleDragMove);\n    document.addEventListener('mouseup', handleDragEnd);\n  };\n\n  // Function to ensure the canvas expands as needed\n  const ensureCanvasSize = bottomPosition => {\n    const canvas = document.querySelector('.canvas');\n    if (canvas) {\n      const minHeight = bottomPosition + 100; // Add some extra space\n      if (canvas.offsetHeight < minHeight) {\n        canvas.style.minHeight = `${minHeight}px`;\n      }\n    }\n  };\n\n  // RESIZE FUNCTIONALITY\n  const handleResizeStart = e => {\n    if (isPreviewMode) return;\n    e.stopPropagation();\n    e.preventDefault();\n\n    // Get starting dimensions and mouse position\n    const startWidth = parseInt(element.style.width) || elementRef.current.offsetWidth;\n    const startHeight = parseInt(element.style.height) || elementRef.current.offsetHeight;\n    const startMouseX = e.clientX;\n    const startMouseY = e.clientY;\n    const handleResizeMove = moveEvent => {\n      // Calculate how much the mouse has moved\n      const dx = moveEvent.clientX - startMouseX;\n      const dy = moveEvent.clientY - startMouseY;\n\n      // Calculate new dimensions (with minimums)\n      const newWidth = Math.max(50, startWidth + dx);\n      const newHeight = Math.max(50, startHeight + dy);\n\n      // Update the element with new dimensions\n      onUpdate(element.id, {\n        style: {\n          ...element.style,\n          width: `${newWidth}px`,\n          height: `${newHeight}px`\n        }\n      });\n    };\n    const handleResizeEnd = () => {\n      document.removeEventListener('mousemove', handleResizeMove);\n      document.removeEventListener('mouseup', handleResizeEnd);\n    };\n    document.addEventListener('mousemove', handleResizeMove);\n    document.addEventListener('mouseup', handleResizeEnd);\n  };\n\n  // ROTATE FUNCTIONALITY\n  const handleRotateStart = e => {\n    if (isPreviewMode) return;\n    e.stopPropagation();\n    e.preventDefault();\n\n    // Get element center\n    const rect = elementRef.current.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n\n    // Calculate the initial angle\n    const startAngle = Math.atan2(e.clientY - centerY, e.clientX - centerX) * (180 / Math.PI);\n\n    // Get the current rotation\n    const currentRotation = element.rotate || 0;\n    const handleRotateMove = moveEvent => {\n      // Calculate the new angle\n      const angle = Math.atan2(moveEvent.clientY - centerY, moveEvent.clientX - centerX) * (180 / Math.PI);\n\n      // Calculate the difference and update\n      const rotation = currentRotation + (angle - startAngle);\n      onUpdate(element.id, {\n        rotate: rotation\n      });\n    };\n    const handleRotateEnd = () => {\n      document.removeEventListener('mousemove', handleRotateMove);\n      document.removeEventListener('mouseup', handleRotateEnd);\n    };\n    document.addEventListener('mousemove', handleRotateMove);\n    document.addEventListener('mouseup', handleRotateEnd);\n  };\n\n  // Render the appropriate content based on element type\n  const renderContent = () => {\n    switch (element.type) {\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...element.style,\n            width: '100%',\n            height: '100%',\n            overflow: 'visible',\n            wordBreak: 'break-word',\n            boxSizing: 'border-box'\n          },\n          contentEditable: !isPreviewMode,\n          suppressContentEditableWarning: true,\n          onBlur: e => {\n            onUpdate(element.id, {\n              content: e.target.innerText\n            });\n          },\n          children: element.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: element.content,\n          alt: \"User uploaded content\",\n          style: {\n            width: '100%',\n            height: '100%',\n            objectFit: element.style.objectFit || 'contain',\n            opacity: element.style.opacity || 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this);\n      case 'video':\n        if (element.content.includes('youtube')) {\n          const youtubeId = getYoutubeId(element.content);\n          return /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: `https://www.youtube.com/embed/${youtubeId}`,\n            title: \"YouTube video\",\n            allowFullScreen: true,\n            style: {\n              width: '100%',\n              height: '100%',\n              border: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"video\", {\n            src: element.content,\n            controls: !isPreviewMode,\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'contain'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this);\n        }\n      case 'shape':\n        return renderShape();\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Unknown element type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getYoutubeId = url => {\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = url.match(regExp);\n    return match && match[2].length === 11 ? match[2] : null;\n  };\n  const renderShape = () => {\n    const shapeType = element.shapeType || 'square';\n    const shapeColor = element.style.backgroundColor || '#7c4dff';\n    const shapeOpacity = element.style.opacity || 1;\n    const shapeShadow = element.style.boxShadow || 'none';\n    switch (shapeType) {\n      case 'circle':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            backgroundColor: shapeColor,\n            opacity: shapeOpacity,\n            boxShadow: shapeShadow\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this);\n      case 'triangle':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '100%',\n            position: 'relative',\n            opacity: shapeOpacity\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '0',\n              height: '0',\n              borderLeft: `${parseInt(element.style.width) / 2}px solid transparent`,\n              borderRight: `${parseInt(element.style.width) / 2}px solid transparent`,\n              borderBottom: `${parseInt(element.style.height)}px solid ${shapeColor}`,\n              boxShadow: shapeShadow\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this);\n      case 'line':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '4px',\n            backgroundColor: shapeColor,\n            opacity: shapeOpacity,\n            boxShadow: shapeShadow,\n            position: 'absolute',\n            top: '50%',\n            transform: 'translateY(-50%)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this);\n      case 'dotted-line':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '4px',\n            borderTop: `4px dotted ${shapeColor}`,\n            opacity: shapeOpacity,\n            boxShadow: shapeShadow,\n            position: 'absolute',\n            top: '50%',\n            transform: 'translateY(-50%)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this);\n      case 'arrow':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '100%',\n            position: 'relative',\n            opacity: shapeOpacity\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: '4px',\n              backgroundColor: shapeColor,\n              position: 'absolute',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              boxShadow: shapeShadow\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '0',\n              height: '0',\n              position: 'absolute',\n              right: '0',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              borderLeft: '15px solid ' + shapeColor,\n              borderTop: '15px solid transparent',\n              borderBottom: '15px solid transparent'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this);\n      case 'square':\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '100%',\n            backgroundColor: shapeColor,\n            opacity: shapeOpacity,\n            boxShadow: shapeShadow\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: elementRef,\n    id: id,\n    className: `element ${isSelected && !isPreviewMode ? 'selected' : ''}`,\n    style: {\n      position: 'absolute',\n      left: `${element.position.x}px`,\n      top: `${element.position.y}px`,\n      width: element.style.width || 'auto',\n      height: element.style.height || 'auto',\n      transform: `rotate(${element.rotate || 0}deg)`,\n      cursor: isPreviewMode ? 'default' : 'move',\n      zIndex: isSelected ? 10 : 1\n    },\n    onClick: handleClick,\n    onMouseDown: isPreviewMode ? null : e => {\n      // Only initiate drag if not clicking on a control or editable content\n      if (!e.target.isContentEditable && !e.target.closest('.resize-handle') && !e.target.closest('.rotation-handle') && !e.target.closest('.element-controls')) {\n        handleDragStart(e);\n      }\n    },\n    children: [renderContent(), isSelected && !isPreviewMode && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resize-handle\",\n        onMouseDown: handleResizeStart,\n        title: \"Drag to resize\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rotation-handle\",\n        onMouseDown: handleRotateStart,\n        title: \"Drag to rotate\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 5C8.13 5 5 8.13 5 12H2L5.84 15.84L9.68 12H7C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17C10.43 17 9.03 16.17 8.3 14.97L6.7 16.57C7.84 18.13 9.78 19 12 19C15.87 19 19 15.87 19 12C19 8.13 15.87 5 12 5Z\",\n            fill: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"element-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn duplicate\",\n          onClick: handleDuplicate,\n          title: \"Duplicate\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z\",\n              fill: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn delete\",\n          onClick: handleDelete,\n          title: \"Delete\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V7H6V19ZM19 4H15.5L14.5 3H9.5L8.5 4H5V6H19V4Z\",\n              fill: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 404,\n    columnNumber: 5\n  }, this);\n}\n_s(Element, \"CKe/C9l/PZDcdMrjDfTWxieUegY=\");\n_c = Element;\nexport default Element;\nvar _c;\n$RefreshReg$(_c, \"Element\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","Element","element","isSelected","onSelect","onUpdate","onDelete","isPreviewMode","canvasBounds","id","_s","elementRef","style","width","height","el","current","rect","getBoundingClientRect","Math","max","handleClick","e","stopPropagation","handleDelete","handleDuplicate","newElement","Date","now","position","x","y","handleDragStart","target","isContentEditable","startMouseX","clientX","startMouseY","clientY","startElementX","startElementY","elWidth","offsetWidth","elHeight","offsetHeight","handleDragMove","moveEvent","dx","dy","newPosX","newPosY","constrainedX","constrainedY","leftBoundary","rightBoundary","min","ensureCanvasSize","handleDragEnd","document","removeEventListener","addEventListener","bottomPosition","canvas","querySelector","minHeight","handleResizeStart","preventDefault","startWidth","parseInt","startHeight","handleResizeMove","newWidth","newHeight","handleResizeEnd","handleRotateStart","centerX","left","centerY","top","startAngle","atan2","PI","currentRotation","rotate","handleRotateMove","angle","rotation","handleRotateEnd","renderContent","type","overflow","wordBreak","boxSizing","contentEditable","suppressContentEditableWarning","onBlur","content","innerText","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","objectFit","opacity","includes","youtubeId","getYoutubeId","title","allowFullScreen","border","controls","renderShape","url","regExp","match","length","shapeType","shapeColor","backgroundColor","shapeOpacity","shapeShadow","boxShadow","borderRadius","borderLeft","borderRight","borderBottom","transform","borderTop","right","ref","className","cursor","zIndex","onClick","onMouseDown","closest","viewBox","fill","xmlns","d","_c","$RefreshReg$"],"sources":["/Users/manikranthbheemineni/PlayGround/Editor engin/src/components/Element.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './Element.css';\n\nfunction Element({ \n  element, \n  isSelected, \n  onSelect, \n  onUpdate, \n  onDelete,\n  isPreviewMode,\n  canvasBounds,\n  id\n}) {\n  const elementRef = useRef(null);\n  \n  // Define default dimensions to ensure elements have a size\n  useEffect(() => {\n    // If the element doesn't have explicit width/height, set them\n    if (!element.style.width || !element.style.height) {\n      const el = elementRef.current;\n      if (el) {\n        const rect = el.getBoundingClientRect();\n        onUpdate(element.id, {\n          style: {\n            ...element.style,\n            width: `${Math.max(rect.width, 100)}px`,\n            height: `${Math.max(rect.height, 40)}px`\n          }\n        });\n      }\n    }\n  }, [element.id, element.style, onUpdate]);\n  \n  // Handle element selection\n  const handleClick = (e) => {\n    if (isPreviewMode) return;\n    e.stopPropagation();\n    onSelect(element.id);\n  };\n  \n  // Handle element deletion\n  const handleDelete = (e) => {\n    e.stopPropagation();\n    onDelete(element.id);\n  };\n  \n  // Handle element duplication\n  const handleDuplicate = (e) => {\n    e.stopPropagation();\n    const newElement = {\n      ...element,\n      id: `element-${Date.now()}`,\n      position: {\n        x: element.position.x + 20,\n        y: element.position.y + 20\n      }\n    };\n    onUpdate(element.id, newElement, true);\n  };\n  \n  // DRAG FUNCTIONALITY\n  const handleDragStart = (e) => {\n    if (isPreviewMode) return;\n    if (e.target.isContentEditable) return;\n    \n    e.stopPropagation();\n    \n    // Get initial mouse and element positions\n    const startMouseX = e.clientX;\n    const startMouseY = e.clientY;\n    const startElementX = element.position.x;\n    const startElementY = element.position.y;\n    \n    // Get element dimensions for boundary checking\n    const elWidth = elementRef.current.offsetWidth;\n    const elHeight = elementRef.current.offsetHeight;\n    \n    const handleDragMove = (moveEvent) => {\n      // Calculate new position\n      const dx = moveEvent.clientX - startMouseX;\n      const dy = moveEvent.clientY - startMouseY;\n      \n      // Calculate potential new position\n      const newPosX = startElementX + dx;\n      const newPosY = startElementY + dy;\n      \n      // Get current element dimensions\n      const elWidth = elementRef.current.offsetWidth;\n      \n      // Apply horizontal boundary constraints only\n      let constrainedX = newPosX;\n      let constrainedY = newPosY; // No vertical constraint\n      \n      // Apply horizontal constraints to keep elements inside canvas\n      if (canvasBounds) {\n        // Calculate offset from canvas left edge\n        const leftBoundary = 0; // Relative to canvas\n        const rightBoundary = canvasBounds.width - elWidth; // Use canvas width\n        \n        // Apply constraints\n        constrainedX = Math.max(leftBoundary, Math.min(constrainedX, rightBoundary));\n      }\n      \n      onUpdate(element.id, {\n        position: {\n          x: constrainedX,\n          y: constrainedY\n        }\n      });\n      \n      // Ensure the canvas grows as needed\n      ensureCanvasSize(constrainedY + elementRef.current.offsetHeight);\n    };\n    \n    const handleDragEnd = () => {\n      document.removeEventListener('mousemove', handleDragMove);\n      document.removeEventListener('mouseup', handleDragEnd);\n    };\n    \n    document.addEventListener('mousemove', handleDragMove);\n    document.addEventListener('mouseup', handleDragEnd);\n  };\n  \n  // Function to ensure the canvas expands as needed\n  const ensureCanvasSize = (bottomPosition) => {\n    const canvas = document.querySelector('.canvas');\n    if (canvas) {\n      const minHeight = bottomPosition + 100; // Add some extra space\n      if (canvas.offsetHeight < minHeight) {\n        canvas.style.minHeight = `${minHeight}px`;\n      }\n    }\n  };\n  \n  // RESIZE FUNCTIONALITY\n  const handleResizeStart = (e) => {\n    if (isPreviewMode) return;\n    \n    e.stopPropagation();\n    e.preventDefault();\n    \n    // Get starting dimensions and mouse position\n    const startWidth = parseInt(element.style.width) || elementRef.current.offsetWidth;\n    const startHeight = parseInt(element.style.height) || elementRef.current.offsetHeight;\n    const startMouseX = e.clientX;\n    const startMouseY = e.clientY;\n    \n    const handleResizeMove = (moveEvent) => {\n      // Calculate how much the mouse has moved\n      const dx = moveEvent.clientX - startMouseX;\n      const dy = moveEvent.clientY - startMouseY;\n      \n      // Calculate new dimensions (with minimums)\n      const newWidth = Math.max(50, startWidth + dx);\n      const newHeight = Math.max(50, startHeight + dy);\n      \n      // Update the element with new dimensions\n      onUpdate(element.id, {\n        style: {\n          ...element.style,\n          width: `${newWidth}px`,\n          height: `${newHeight}px`\n        }\n      });\n    };\n    \n    const handleResizeEnd = () => {\n      document.removeEventListener('mousemove', handleResizeMove);\n      document.removeEventListener('mouseup', handleResizeEnd);\n    };\n    \n    document.addEventListener('mousemove', handleResizeMove);\n    document.addEventListener('mouseup', handleResizeEnd);\n  };\n  \n  // ROTATE FUNCTIONALITY\n  const handleRotateStart = (e) => {\n    if (isPreviewMode) return;\n    \n    e.stopPropagation();\n    e.preventDefault();\n    \n    // Get element center\n    const rect = elementRef.current.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    \n    // Calculate the initial angle\n    const startAngle = Math.atan2(\n      e.clientY - centerY,\n      e.clientX - centerX\n    ) * (180 / Math.PI);\n    \n    // Get the current rotation\n    const currentRotation = element.rotate || 0;\n    \n    const handleRotateMove = (moveEvent) => {\n      // Calculate the new angle\n      const angle = Math.atan2(\n        moveEvent.clientY - centerY,\n        moveEvent.clientX - centerX\n      ) * (180 / Math.PI);\n      \n      // Calculate the difference and update\n      const rotation = currentRotation + (angle - startAngle);\n      \n      onUpdate(element.id, { rotate: rotation });\n    };\n    \n    const handleRotateEnd = () => {\n      document.removeEventListener('mousemove', handleRotateMove);\n      document.removeEventListener('mouseup', handleRotateEnd);\n    };\n    \n    document.addEventListener('mousemove', handleRotateMove);\n    document.addEventListener('mouseup', handleRotateEnd);\n  };\n  \n  // Render the appropriate content based on element type\n  const renderContent = () => {\n    switch(element.type) {\n      case 'text':\n        return (\n          <div \n            style={{\n              ...element.style,\n              width: '100%',\n              height: '100%',\n              overflow: 'visible',\n              wordBreak: 'break-word',\n              boxSizing: 'border-box'\n            }}\n            contentEditable={!isPreviewMode}\n            suppressContentEditableWarning={true}\n            onBlur={(e) => {\n              onUpdate(element.id, { content: e.target.innerText });\n            }}\n          >\n            {element.content}\n          </div>\n        );\n      case 'image':\n        return (\n          <img \n            src={element.content} \n            alt=\"User uploaded content\"\n            style={{\n              width: '100%',\n              height: '100%',\n              objectFit: element.style.objectFit || 'contain',\n              opacity: element.style.opacity || 1\n            }}\n          />\n        );\n      case 'video':\n        if (element.content.includes('youtube')) {\n          const youtubeId = getYoutubeId(element.content);\n          return (\n            <iframe\n              src={`https://www.youtube.com/embed/${youtubeId}`}\n              title=\"YouTube video\"\n              allowFullScreen\n              style={{ width: '100%', height: '100%', border: 'none' }}\n            />\n          );\n        } else {\n          return (\n            <video \n              src={element.content}\n              controls={!isPreviewMode}\n              style={{ width: '100%', height: '100%', objectFit: 'contain' }}\n            />\n          );\n        }\n      case 'shape':\n        return renderShape();\n      default:\n        return <div>Unknown element type</div>;\n    }\n  };\n  \n  const getYoutubeId = (url) => {\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = url.match(regExp);\n    return (match && match[2].length === 11) ? match[2] : null;\n  };\n  \n  const renderShape = () => {\n    const shapeType = element.shapeType || 'square';\n    const shapeColor = element.style.backgroundColor || '#7c4dff';\n    const shapeOpacity = element.style.opacity || 1;\n    const shapeShadow = element.style.boxShadow || 'none';\n    \n    switch(shapeType) {\n      case 'circle':\n        return (\n          <div \n            style={{\n              width: '100%',\n              height: '100%',\n              borderRadius: '50%',\n              backgroundColor: shapeColor,\n              opacity: shapeOpacity,\n              boxShadow: shapeShadow\n            }}\n          />\n        );\n        \n      case 'triangle':\n        return (\n          <div style={{\n            width: '100%',\n            height: '100%',\n            position: 'relative',\n            opacity: shapeOpacity\n          }}>\n            <div style={{\n              width: '0',\n              height: '0',\n              borderLeft: `${parseInt(element.style.width) / 2}px solid transparent`,\n              borderRight: `${parseInt(element.style.width) / 2}px solid transparent`,\n              borderBottom: `${parseInt(element.style.height)}px solid ${shapeColor}`,\n              boxShadow: shapeShadow\n            }} />\n          </div>\n        );\n        \n      case 'line':\n        return (\n          <div style={{\n            width: '100%',\n            height: '4px',\n            backgroundColor: shapeColor,\n            opacity: shapeOpacity,\n            boxShadow: shapeShadow,\n            position: 'absolute',\n            top: '50%',\n            transform: 'translateY(-50%)'\n          }} />\n        );\n        \n      case 'dotted-line':\n        return (\n          <div style={{\n            width: '100%',\n            height: '4px',\n            borderTop: `4px dotted ${shapeColor}`,\n            opacity: shapeOpacity,\n            boxShadow: shapeShadow,\n            position: 'absolute',\n            top: '50%',\n            transform: 'translateY(-50%)'\n          }} />\n        );\n        \n      case 'arrow':\n        return (\n          <div style={{\n            width: '100%',\n            height: '100%',\n            position: 'relative',\n            opacity: shapeOpacity\n          }}>\n            <div style={{\n              width: '100%',\n              height: '4px',\n              backgroundColor: shapeColor,\n              position: 'absolute',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              boxShadow: shapeShadow\n            }} />\n            <div style={{\n              width: '0',\n              height: '0',\n              position: 'absolute',\n              right: '0',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              borderLeft: '15px solid ' + shapeColor,\n              borderTop: '15px solid transparent',\n              borderBottom: '15px solid transparent'\n            }} />\n          </div>\n        );\n        \n      case 'square':\n      default:\n        return (\n          <div \n            style={{\n              width: '100%',\n              height: '100%',\n              backgroundColor: shapeColor,\n              opacity: shapeOpacity,\n              boxShadow: shapeShadow\n            }}\n          />\n        );\n    }\n  };\n  \n  return (\n    <div \n      ref={elementRef}\n      id={id}\n      className={`element ${isSelected && !isPreviewMode ? 'selected' : ''}`}\n      style={{\n        position: 'absolute',\n        left: `${element.position.x}px`,\n        top: `${element.position.y}px`,\n        width: element.style.width || 'auto',\n        height: element.style.height || 'auto',\n        transform: `rotate(${element.rotate || 0}deg)`,\n        cursor: isPreviewMode ? 'default' : 'move',\n        zIndex: isSelected ? 10 : 1\n      }}\n      onClick={handleClick}\n      onMouseDown={isPreviewMode ? null : (e) => {\n        // Only initiate drag if not clicking on a control or editable content\n        if (!e.target.isContentEditable && \n           !e.target.closest('.resize-handle') && \n           !e.target.closest('.rotation-handle') &&\n           !e.target.closest('.element-controls')) {\n          handleDragStart(e);\n        }\n      }}\n    >\n      {renderContent()}\n      \n      {isSelected && !isPreviewMode && (\n        <>\n          <div \n            className=\"resize-handle\" \n            onMouseDown={handleResizeStart}\n            title=\"Drag to resize\"\n          ></div>\n          \n          <div \n            className=\"rotation-handle\" \n            onMouseDown={handleRotateStart}\n            title=\"Drag to rotate\"\n          >\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 5C8.13 5 5 8.13 5 12H2L5.84 15.84L9.68 12H7C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17C10.43 17 9.03 16.17 8.3 14.97L6.7 16.57C7.84 18.13 9.78 19 12 19C15.87 19 19 15.87 19 12C19 8.13 15.87 5 12 5Z\" fill=\"white\"/>\n            </svg>\n          </div>\n          \n          <div className=\"element-controls\">\n            <button \n              className=\"control-btn duplicate\" \n              onClick={handleDuplicate}\n              title=\"Duplicate\"\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z\" fill=\"white\"/>\n              </svg>\n            </button>\n            <button \n              className=\"control-btn delete\" \n              onClick={handleDelete}\n              title=\"Delete\"\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V7H6V19ZM19 4H15.5L14.5 3H9.5L8.5 4H5V6H19V4Z\" fill=\"white\"/>\n              </svg>\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Element; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}